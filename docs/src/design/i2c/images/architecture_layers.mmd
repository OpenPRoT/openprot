flowchart TB
    subgraph APP["APPLICATION LAYER"]
        APP_DESC["- Protocol implementation (MCTP, PMBus, etc.)<br/>- Business logic<br/>- Uses high-level API"]
    end
    
    subgraph FW["FRAMEWORK LAYER"]
        FW_DESC["- IPC handling<br/>- Notification delivery via sys_post()<br/>- Operation dispatch<br/>- Hardware abstraction (I2cHardware trait)<br/>- Single message buffer per controller"]
    end
    
    subgraph HW["PLATFORM LAYER"]
        HW_DESC["- Platform-specific driver (AST1060, Earl Grey, etc.)<br/>- Register manipulation<br/>- Interrupt handling<br/>- Hardware buffer management"]
    end
    
    APP -->|"drv-i2c-api (I2cDevice methods)"| FW
    FW -->|"I2cHardware trait methods"| HW